{
  "version": 3,
  "sources": ["../../../../../../Volumes/BOBO/ouorange/calendar/functions/calFetch.js"],
  "sourceRoot": "/var/folders/6s/flzhhpkx305fc4w80m6l39_00000gn/T/tmp-3391-BnymH837CPWj",
  "sourcesContent": ["\nconst { CAL_API, CAL_ID } = process.env;\nconst BASEPARAMS = `orderBy=startTime&singleEvents=true&timeMin=${new Date().toISOString()}`\nconst BASEURL = `https://www.googleapis.com/calendar/v3/calendars/${CAL_ID}/events?${BASEPARAMS}`\n\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Methods': 'GET',\n}\n\nexport async function handler (event, context) {\n  const finalURL = `${BASEURL}${event.queryStringParameters.maxResults ? `&maxResults=${event.queryStringParameters.maxResults}` : ''}&key=${CAL_API}`\n  try {\n    if (event.httpMethod === 'GET') {\n      return fetch(finalURL)\n        .then((response) => response.json())\n        .then((data) => ({\n          statusCode: 200,\n          body: JSON.stringify(data.items, null, 2),\n          HEADERS\n        }))\n    }\n    return {\n      statusCode: 401\n    }\n  } catch (e) {\n    console.error(e)\n    return {\n      statusCode: 500,\n      body: e.toString()\n    }\n  }\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,IAAM,EAAE,SAAS,WAAW,QAAQ;AACpC,IAAM,aAAa,+CAA+C,IAAI,KAAK,EAAE,YAAY;AACzF,IAAM,UAAU,oDAAoD,iBAAiB;AAErF,IAAM,UAAU;AAAA,EACd,gBAAgB;AAAA,EAChB,gCAAgC;AAClC;AAEA,uBAA+B,OAAO,SAAS;AAC7C,QAAM,WAAW,GAAG,UAAU,MAAM,sBAAsB,aAAa,eAAe,MAAM,sBAAsB,eAAe,UAAU;AAC3I,MAAI;AACF,QAAI,MAAM,eAAe,OAAO;AAC9B,aAAO,MAAM,QAAQ,EAClB,KAAK,CAAC,aAAa,SAAS,KAAK,CAAC,EAClC,KAAK,CAAC,SAAU;AAAA,QACf,YAAY;AAAA,QACZ,MAAM,KAAK,UAAU,KAAK,OAAO,MAAM,CAAC;AAAA,QACxC;AAAA,MACF,EAAE;AAAA,IACN;AACA,WAAO;AAAA,MACL,YAAY;AAAA,IACd;AAAA,EACF,SAAS,GAAP;AACA,YAAQ,MAAM,CAAC;AACf,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,EAAE,SAAS;AAAA,IACnB;AAAA,EACF;AACF;",
  "names": []
}
